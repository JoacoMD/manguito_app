<form class="w-1/3">
  <div class="mb-3">
    <div class="flex flex-nowrap gap-3">
      <input
        class="form-control"
        [(ngModel)]="input"
        [ngModelOptions]="{standalone: true}"
      >
      <button class="btn btn-primary disabled:bg-gray-200" (click)="add()" [disabled]="loading">Agregar</button>
    </div>
    <mat-chip-grid class="mt-3">
      <mat-chip-row *ngFor="let cat of categorias" (removed)="remove(cat, 'old')">
        {{cat}}
        <button matChipRemove [attr.aria-label]="'remove ' + cat">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip-row>
      <mat-chip-row *ngFor="let cat of addedCategorias" (removed)="remove(cat, 'new')">
        {{cat}}
        <button matChipRemove [attr.aria-label]="'remove ' + cat">
          <mat-icon>cancel</mat-icon>
        </button>
      </mat-chip-row>
    </mat-chip-grid>
  </div>
  <div class="mt-3">
    <button class="btn btn-primary disabled:bg-gray-200" (click)="updateCategorias()" [disabled]="loading || !isDirty()">
      <span *ngIf="!loading">Guardar cambios</span>
      <span *ngIf="loading">
        <app-spinner></app-spinner>
        Guardando...
      </span>
    </button>
  </div>
</form>

